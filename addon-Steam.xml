<?xml version="1.0" encoding="utf-8"?>
<addon addon_id="Steam" title="Steam Auth" version_string="1.6.3" version_id="179" url="http://xenforo.com/community/threads/steam-authentication-integration.42694/" install_callback_class="Steam_Manufacture" install_callback_method="build" uninstall_callback_class="Steam_Manufacture" uninstall_callback_method="destroy">
  <admin_navigation>
    <navigation navigation_id="steam" parent_navigation_id="" display_order="60" link="steam" admin_permission_id="viewStatistics" debug_only="0" hide_no_children="0"/>
    <navigation navigation_id="steam_info_users" parent_navigation_id="steam_information" display_order="1" link="steam/users" admin_permission_id="viewStatistics" debug_only="0" hide_no_children="0"/>
    <navigation navigation_id="steam_information" parent_navigation_id="steam" display_order="20" link="" admin_permission_id="viewStatistics" debug_only="0" hide_no_children="0"/>
    <navigation navigation_id="steam_statistics" parent_navigation_id="steam" display_order="10" link="" admin_permission_id="viewStatistics" debug_only="0" hide_no_children="0"/>
    <navigation navigation_id="steam_stats_games" parent_navigation_id="steam_statistics" display_order="1" link="steam/games" admin_permission_id="viewStatistics" debug_only="0" hide_no_children="0"/>
    <navigation navigation_id="steam_stats_topOwned" parent_navigation_id="steam_statistics" display_order="10" link="steam/topOwned" admin_permission_id="viewStatistics" debug_only="0" hide_no_children="0"/>
    <navigation navigation_id="steam_stats_topPlayed" parent_navigation_id="steam_statistics" display_order="20" link="steam/topPlayed" admin_permission_id="viewStatistics" debug_only="0" hide_no_children="0"/>
    <navigation navigation_id="steam_stats_topRecent" parent_navigation_id="steam_statistics" display_order="30" link="steam/topPlayedRecent" admin_permission_id="viewStatistics" debug_only="0" hide_no_children="0"/>
  </admin_navigation>
  <admin_permissions/>
  <admin_style_properties/>
  <admin_templates>
    <template title="steam_helper_criteria_privs"><![CDATA[<dl class="ctrlUnit">
	<dt>{xen:phrase steam_integration}:</dt>
	<dd>
		<li>
			<label><input type="checkbox" name="user_criteria[steam_state][rule]" value="steam_state" class="Disabler" id="ucrit_steam_state" {xen:checked $userCriteria.steam_state} />{xen:phrase steam_state_is}:</label>
			<div class="criteriaQualifier" id="ucrit_steam_state_Disabler">
				<xen:select name="user_criteria[steam_state][data][state]" value="{$userCriteria.steam_state.state}" inputclass="autoSize">
					<xen:option value="associated">{xen:phrase steam_state_associated}</xen:option>
					<xen:option value="deassociated">{xen:phrase steam_state_deassociated}</xen:option>
				</xen:select>
			</div>
		</li>
		<li>
			<label><input type="checkbox" name="user_criteria[steam_game][rule]" value="steam_game" class="Disabler" id="ucrit_steam_game" {xen:checked $userCriteria.steam_game} />{xen:phrase steam_game_owned}:</label>
			<div class="criteriaQualifier" id="ucrit_steam_game_Disabler">
				<xen:select name="user_criteria[steam_game][data][games]" size="8" multiple="true">
					<xen:foreach loop="$steam_games" value="$_criteriaUg">
						<xen:option value="{$_criteriaUg.id}" selected="{$userCriteria.steam_game.games} AND in_array({$_criteriaUg.id}, {$userCriteria.steam_game.games})">{$_criteriaUg.name}</xen:option>
					</xen:foreach>
				</xen:select>
			</div>
		</li>
		<li>
			<label><input type="checkbox" name="user_criteria[steam_not_game][rule]" value="steam_not_game" class="Disabler" id="ucrit_steam_not_game" {xen:checked $userCriteria.steam_not_game} />{xen:phrase steam_game_not_owned}:</label>
			<div class="criteriaQualifier" id="ucrit_steam_not_game_Disabler">
				<xen:select name="user_criteria[steam_not_game][data][games]" size="8" multiple="true">
					<xen:foreach loop="$steam_games" value="$_criteriaUg">
						<xen:option value="{$_criteriaUg.id}" selected="{$userCriteria.steam_not_game.games} AND in_array({$_criteriaUg.id}, {$userCriteria.steam_not_game.games})">{$_criteriaUg.name}</xen:option>
					</xen:foreach>
				</xen:select>
			</div>
		</li>
	</dd>
</dl>]]></template>
    <template title="steam_info_users"><![CDATA[<xen:title>{xen:phrase steam_info_users}</xen:title>
<div style="font-size: 150%; font-weight: bold; height: 24px; border-bottom: 2px solid #D7EDFC; padding: 8px;"><span class="game" style="display: block; float: left; width: 65%;">{xen:phrase steam_info_users_user}</span><span class="count" style="display: block; float: right; text-align: right; width: 35%;">{xen:phrase steam_info_users_id}<span></div>
<xen:foreach loop="{$users}" key="$key" value="$value">
<div style="font-size: 150%; height: 24px; border-bottom: 1px solid #D7EDFC; padding: 8px;"><span style="display: block; float: left; width: 65%;">{$value.username}</span><span class="count" style="display: block; float: right; text-align: right; width: 35%;">{$value.id}<span></div>
</xen:foreach>]]></template>
    <template title="steam_splash"><![CDATA[<xen:title>{xen:phrase steam}</xen:title>

<xen:topctrl></xen:topctrl>

<xen:require css="steam_splash.css" />

<div class="splash">
	<ul class="iconic">
	
		<li><a href="{xen:adminlink 'steam/games'}" class="games">
			<span class="icon"><span></span></span>
			<span class="linkText">{xen:phrase steam_stats_games}</span>
			</a></li>

		<li><a href="{xen:adminlink 'steam/topOwned'}" class="topOwned">
			<span class="icon"><span></span></span>
			<span class="linkText">{xen:phrase steam_stats_topOwned}</span>
			</a></li>

		<li><a href="{xen:adminlink 'steam/topPlayed'}" class="topPlayed">
			<span class="icon"><span></span></span>
			<span class="linkText">{xen:phrase steam_stats_topPlayed}</span>
			</a></li>

		<li><a href="{xen:adminlink 'steam/topPlayedRecent'}" class="topPlayedRecent">
			<span class="icon"><span></span></span>
			<span class="linkText">{xen:phrase steam_stats_topPlayedRecent}</span>
			</a></li>

		<li><a href="{xen:adminlink 'steam/users'}" class="users">
			<span class="icon"><span></span></span>
			<span class="linkText">{xen:phrase steam_info_users}</span>
			</a></li>

	</ul>

	<div class="sidebar"><xen:hook name="admin_sidebar_steam" /></div>	
</div>]]></template>
    <template title="steam_splash.css"><![CDATA[.splash
{
	overflow: hidden; zoom: 1;
}

	.splash .iconic
	{
		width: 420px;
		/*background-color: rgb(255,255,230);*/
		overflow: hidden; zoom: 1;
		float: left;
		border-right: 1px solid {xen:property primaryLighterStill};
	}
	
	.iconic li
	{
		float: left;
		width: 140px;
		height: 162px; /* 120 + 2 + 28 + 10 + 2*/
		text-align: center;
	}
	
	.iconic a
	{
		display: block;
		padding-bottom: 10px;
	}
	
		.splash .iconic a:hover
		{
			text-decoration: none;
		}
	
	.iconic a .icon
	{
		display: block;
		width: 120px;
		height: 120px;
		border: 1px solid {xen:property primaryDarker};
		border-radius: 5px;
		
		background-color: {xen:property primaryDark};
		background-repeat: no-repeat;
		background-position: center center;
		
		margin: 0 9px 2px;
	}
	
		.splash .iconic a:hover .icon
		{
			background-color: {xen:property primaryLightish};
		}
	
	.iconic .linkText
	{
		display: block;
		height: 28px;
		font-size: 11px;
		font-weight: bold;
	}
	
	/*
	.iconic .list .icon { background-image: url('{xen:property imagePath}/xenforo/acp-icons/list.png'); }
	.iconic .search .icon { background-image: url('{xen:property imagePath}/xenforo/acp-icons/search.png'); }
	.iconic .add .icon { background-image: url('{xen:property imagePath}/xenforo/acp-icons/add.png'); }
	.iconic .moderated .icon { background-image: url('{xen:property imagePath}/xenforo/acp-icons/moderated.png'); }
	.iconic .permissions .icon { background-image: url('{xen:property imagePath}/xenforo/acp-icons/permissions.png'); }
	*/
	
.splash .sidebar
{
	margin-left: 420px;
	border-left: 1px solid {xen:property primaryLighterStill};
	padding-left: 10px;
}

.splash .sidebar .textHeading
{
	font-size: 12pt;
	color: {xen:property primaryLight};
	padding: 0px;
	margin-bottom: 5px;
}
	
.splash .sidebar .section,
.splash .sidebar .sectionMain
{
	margin-top: 0px;
}

	.splash .sidebar input.quickSearchText
	{
		width: 175px;
	}
	
	.splash .sidebar input.quickSearchButton
	{
		width: 100px;
	}
	
	.splash .sidebar a.quickSearchAdvanced
	{
		margin-left: 5px;
		margin-top: 0px;
		display: block;
		font-size: 11px;
	}

.splash .sidebar .xenForm
{
	width: auto;
}

.splash .sidebar table
{
	width: 100%;
}

	.splash .sidebar table .primaryContent,
	.splash .sidebar table .secondaryContent,
	.splash .sidebar td a.primaryContent
	{
		padding: 5px 10px;
		font-size: 11px;
	}
	
		.splash .sidebar td
		{
			{xen:property primaryContent.border}
		}
	
		.splash .sidebar td a.primaryContent
		{
			display: block;
			border: none;
		}
		
		.splash .sidebar td a.primaryContent:hover
		{
			text-decoration: none;
			background-color: {xen:property secondaryLightest};
		}
	
	.splash .sidebar table .total
	{
		text-align: right;
	}
	
	.splash .sidebar table + .sectionFooter
	{
		text-align: right;
	}
	
	.splash .sidebar .noContentMessage
	{
		font-size: 11px;
		color: {xen:property mutedTextColor};
	}

.splash .sidebar .statsBlock a
{
	display: block;
	overflow: hidden; zoom: 1;
	padding: 4px 8px;
	margin: 0 -8px;
	font-size: 11px;
}

	.splash .sidebar .statsBlock a:hover
	{
		background-color: {xen:property primaryLighterStill};
		text-decoration: none;
		border-radius: 5px;
	}	
	

.splash .statsBlock a .label
{
	color: {xen:property mutedTextColor};
	float: left;
}

.splash .statsBlock a strong
{
	color: {xen:property contentText};
	float: right;
}


.splash .icon span
{
	display: block;
	width: 120px;
	height: 120px;
	background: transparent none no-repeat center center;
}

/* Steam */

.splash .games
	.icon span { background-image: url('{xen:property imagePath}/xenforo/acp-icons/users_list.png'); }
.splash .topOwned
	.icon span { background-image: url('{xen:property imagePath}/xenforo/acp-icons/add_ons.png'); }
.splash .topPlayed
	.icon span { background-image: url('{xen:property imagePath}/xenforo/acp-icons/smilies.png'); }
.splash .topPlayedRecent
	.icon span { background-image: url('{xen:property imagePath}/xenforo/acp-icons/nodes.png'); }
.splash .users
	.icon span { background-image: url('{xen:property imagePath}/xenforo/acp-icons/nodes.png'); }]]></template>
    <template title="steam_stats_games"><![CDATA[<xen:title>{xen:phrase steam_stats_games}</xen:title>
<xen:foreach loop="{$games}" key="$key" value="$value">
<div style="font-size: 150%; height: 24px; border-bottom: 1px solid #D7EDFC; padding: 8px;"><a href="{xen:adminlink steam/games/}{$value.id}"><img src="{$value.logo}" height="24px" style="padding-right: 4px;" />{$value.name}</a></div>
</xen:foreach>
<div class="pageNavLinkGroup">
<xen:adminpagenav link="steam/games" page="{$page}" perpage="{$gamesPerPage}" total="{$totalGames}" />
</div>
]]></template>
    <template title="steam_stats_game_view"><![CDATA[<xen:title>{$game.name}</xen:title>
<div style="clear: both; font-size: 175%; border-bottom: solid 1px darkgray; margin-bottom: 8px;">Info</div>
<div id="info" style="font-size: 125%;">
	<div style="float: right;"><a href="{$game.link}"><img src="{$game.logo}" style="float: right;" /></a></div>
	<div>{$count} users own {$game.name}</div>
	<div>{$hours} hours total played by all users</div>
	<div>{$hoursAvg} hours per user (average)</div>
</div>
<div style="clear: both; font-size: 175%; border-bottom: solid 1px darkgray; margin-bottom: 2px;">Users</div>
<div id="users">
	<xen:foreach loop="{$users}" value="$value">
		<div style="font-size: 125%; height: 48px; border-bottom: 1px solid #D7EDFC; padding: 8px;"><img src="{$value.avatar_url}" style="padding-right: 4px; vertical-align: middle;" /><span>{$value.username}</span></div>
	</xen:foreach>
</div>]]></template>
    <template title="steam_stats_topOwned"><![CDATA[<xen:title>{xen:phrase steam_stats_topOwned}</xen:title>
<div style="font-size: 150%; font-weight: bold; height: 24px; border-bottom: 2px solid #D7EDFC; padding: 8px;"><span class="game" style="display: block; float: left; width: 90%;">{xen:phrase steam_stats_topOwned_game}</span><span class="count" style="display: block; float: right; text-align: right; width: 10%;">{xen:phrase steam_stats_topOwned_count}<span></div>
<xen:foreach loop="{$gameStats}" key="$key" value="$value">
<div style="font-size: 150%; height: 24px; border-bottom: 1px solid #D7EDFC; padding: 8px;"><span class="game" style="display: block; float: left; width: 90%;"><a href="{$value.link}"><img src="{$value.logo}" height="24px" style="padding-right: 4px;" />{$value.name}</a></span><span class="count" style="display: block; float: right; text-align: right; width: 10%;">{$value.count}<span></div>
</xen:foreach>]]></template>
    <template title="steam_stats_topPlayed"><![CDATA[<xen:title>{xen:phrase steam_stats_topPlayed}</xen:title>
<div style="font-size: 150%; font-weight: bold; height: 24px; border-bottom: 2px solid #D7EDFC; padding: 8px;"><span class="game" style="display: block; float: left; width: 90%;">{xen:phrase steam_stats_topPlayed_game}</span><span class="count" style="display: block; float: right; text-align: right; width: 10%;">{xen:phrase steam_stats_topPlayed_hours}<span></div>
<xen:foreach loop="{$gameStats}" key="$key" value="$value">
<div style="font-size: 150%; height: 24px; border-bottom: 1px solid #D7EDFC; padding: 8px;"><span class="game" style="display: block; float: left; width: 90%;"><a href="{$value.link}"><img src="{$value.logo}" height="24px" style="padding-right: 4px;" />{$value.name}</a></span><span class="count" style="display: block; float: right; text-align: right; width: 10%;">{$value.hours}<span></div>
</xen:foreach>]]></template>
    <template title="steam_stats_topPlayedRecent"><![CDATA[<xen:title>{xen:phrase steam_stats_topPlayedRecent}</xen:title>
<div style="font-size: 150%; font-weight: bold; height: 24px; border-bottom: 2px solid #D7EDFC; padding: 8px;"><span class="game" style="display: block; float: left; width: 90%;">{xen:phrase steam_stats_topPlayedRecent_game}</span><span class="count" style="display: block; float: right; text-align: right; width: 10%;">{xen:phrase steam_stats_topPlayedRecent_hours}<span></div>
<xen:foreach loop="{$gameStats}" key="$key" value="$value">
<div style="font-size: 150%; height: 24px; border-bottom: 1px solid #D7EDFC; padding: 8px;"><span class="game" style="display: block; float: left; width: 90%;"><a href="{$value.link}"><img src="{$value.logo}" height="24px" style="padding-right: 4px;" />{$value.name}</a></span><span class="count" style="display: block; float: right; text-align: right; width: 10%;">{$value.hours}<span></div>
</xen:foreach>]]></template>
  </admin_templates>
  <admin_template_modifications>
    <modification template="user_extra" modification_key="SteamUserExtra" description="Adds Steam Integration to the User Extra tab" execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[<xen:comment>external_account_insert</xen:comment>]]></find>
      <replace><![CDATA[
    <xen:if is="{$xenOptions.steamAPIKey}">
		<xen:if is="{$external.steam}">
			<xen:controlunit label="{xen:phrase associated_steam_account}:">
                <a href="http://steamcommunity.com/profiles/{$external.steam.provider_key}" class="avatar NoOverlay"><img src="{$stUser.icon}" alt="" /></a>
                <div><a href="http://steamcommunity.com/profiles/{$external.steam.provider_key}"><xen:if is="{$stUser.username}">{$stUser.username}<xen:else />{xen:phrase unknown_account}</xen:if></a></div>
            </xen:controlunit>
            </xen:if>
</xen:if>$0]]></replace>
    </modification>
  </admin_template_modifications>
  <code_events/>
  <code_event_listeners>
    <listener event_id="criteria_user" execute_order="10" callback_class="Steam_Helper_Criteria" callback_method="criteriaUser" active="1" hint="" description=""/>
    <listener event_id="init_dependencies" execute_order="10" callback_class="Steam_Listener" callback_method="init" active="1" hint="" description="Steam Helper"/>
    <listener event_id="load_class_controller" execute_order="10" callback_class="Steam_Listener" callback_method="loadClassController" active="1" hint="" description=""/>
    <listener event_id="navigation_tabs" execute_order="10" callback_class="Steam_Listener" callback_method="addNavbarTab" active="1" hint="" description="Navigation Tabs"/>
    <listener event_id="template_create" execute_order="10" callback_class="Steam_Listener" callback_method="templateCreate" active="1" hint="" description=""/>
	<listener event_id="template_hook" execute_order="10" callback_class="Steam_Listener" callback_method="templateHook" active="1" hint="" description=""/>
  </code_event_listeners>
  <cron>
    <entry entry_id="steam_user_poll" cron_class="Steam_Cron" cron_method="update" active="1"><![CDATA[{"day_type":"dom","dom":["-1"],"hours":["3","15"],"minutes":["0"]}]]></entry>
  </cron>
  <email_templates/>
  <email_template_modifications/>
  <optiongroups>
    <group group_id="SteamAuth" display_order="226" debug_only="0"/>
    <option option_id="steamAPIKey" edit_format="textbox" data_type="string" can_backup="1">
      <default_value></default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="SteamAuth" display_order="100"/>
    </option>
    <option option_id="steamLoginButton" edit_format="radio" data_type="string" can_backup="1">
        <default_value>styles/default/steamauth/steam_signin.png</default_value>
        <edit_format_params>styles/default/steamauth/steam_signin.png={xen:phrase steam_use_button_normal}
        styles/default/steamauth/steam_signin_large.png={xen:phrase steam_use_button_large}
        styles/default/steamauth/steam_signin_large_bd.png={xen:phrase steam_use_button_large_border}</edit_format_params>
        <sub_options></sub_options>
        <relation group_id="SteamAuth" display_order="200"/>
    </option>
    <option option_id="steamAltLoginBar" edit_format="onoff" data_type="boolean" can_backup="1">
      <default_value>0</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="SteamAuth" display_order="210"/>
    </option>
    <option option_id="steamVisitorPanel" edit_format="onoff" data_type="boolean" can_backup="1">
      <default_value>0</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="SteamAuth" display_order="220"/>
    </option>
    <option option_id="steamGameStatsReg" edit_format="onoff" data_type="boolean" can_backup="1">
      <default_value>1</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="SteamAuth" display_order="230"/>
    </option>
    <option option_id="steamAvatarReg" edit_format="onoff" data_type="boolean" can_backup="1">
      <default_value>1</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="SteamAuth" display_order="240"/>
    </option>
    <option option_id="steamGameStats" edit_format="onoff" data_type="boolean" can_backup="1">
      <default_value>1</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="SteamAuth" display_order="300"/>
    </option>
    <option option_id="steamGameStatsForce" edit_format="onoff" data_type="boolean" can_backup="1">
      <default_value>0</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="SteamAuth" display_order="310"/>
    </option>
    <option option_id="steamNavTab" edit_format="onoff" data_type="boolean" can_backup="1">
      <default_value>1</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="SteamAuth" display_order="320"/>
    </option>
    <option option_id="steamDisplayMessageContent" edit_format="onoff" data_type="boolean" can_backup="1">
      <default_value>0</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="SteamAuth" display_order="400"/>
    </option>
    <option option_id="steamDisplayMessageInfo" edit_format="onoff" data_type="boolean" can_backup="1">
      <default_value>1</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="SteamAuth" display_order="410"/>
    </option>
    <option option_id="steamDisplayProfile" edit_format="onoff" data_type="boolean" can_backup="1">
      <default_value>1</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="SteamAuth" display_order="420"/>
    </option>
    <option option_id="steamDisplayBanner" edit_format="onoff" data_type="boolean" can_backup="1">
      <default_value>0</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="SteamAuth" display_order="430"/>
    </option>
    <option option_id="steamIncludeGames" edit_format="textbox" data_type="string" can_backup="1">
      <default_value></default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="SteamAuth" display_order="500"/>
    </option>
    <option option_id="steamExcludeGames" edit_format="textbox" data_type="string" can_backup="1">
      <default_value></default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="SteamAuth" display_order="510"/>
    </option>
    <option option_id="steamImageCDN" edit_format="radio" data_type="unsigned_integer" can_backup="1">
        <default_value>0</default_value>
        <edit_format_params>0={xen:phrase steam_use_CDN_akamai_both}
        1={xen:phrase steam_use_CDN_akamai_HTTPS}
        2={xen:phrase steam_use_CDN_akamai_HTTP}
        3={xen:phrase steam_use_CDN_akamai_alt}
        4={xen:phrase steam_use_CDN_local}</edit_format_params>
        <sub_options></sub_options>
        <relation group_id="SteamAuth" display_order="600"/>
    </option>
    <option option_id="steamJSONLink" edit_format="radio" data_type="unsigned_integer" can_backup="1">
        <default_value>0</default_value>
        <edit_format_params>0={xen:phrase steam_use_JSON_HTTP}
        1={xen:phrase steam_use_JSON_HTTPS}</edit_format_params>
        <sub_options></sub_options>
        <relation group_id="SteamAuth" display_order="610"/>
    </option>
  </optiongroups>
  <permissions>
    <permission_groups>
      <permission_group permission_group_id="SteamAuth"/>
    </permission_groups>
    <permissions>
	  <permission permission_group_id="SteamAuth" permission_id="viewProfile" permission_type="flag" default_value="allow" interface_group_id="SteamAuth" display_order="1"/>
	  <permission permission_group_id="SteamAuth" permission_id="viewStats" permission_type="flag" default_value="allow" interface_group_id="SteamAuth" display_order="2"/>
	</permissions>
    <interface_groups>
      <interface_group interface_group_id="SteamAuth" display_order="1501"/>
    </interface_groups>
  </permissions>
  <phrases>
    <phrase title="admin_navigation_steam" version_id="8" version_string="1.0.7"><![CDATA[Steam]]></phrase>
    <phrase title="admin_navigation_steam_information" version_id="8" version_string="1.0.7"><![CDATA[Information]]></phrase>
    <phrase title="admin_navigation_steam_info_users" version_id="8" version_string="1.0.7"><![CDATA[Users]]></phrase>
    <phrase title="admin_navigation_steam_statistics" version_id="8" version_string="1.0.7"><![CDATA[Statistics]]></phrase>
    <phrase title="admin_navigation_steam_stats_games" version_id="8" version_string="1.0.7"><![CDATA[Games]]></phrase>
    <phrase title="admin_navigation_steam_stats_topOwned" version_id="8" version_string="1.0.7"><![CDATA[Top Owned]]></phrase>
    <phrase title="admin_navigation_steam_stats_topPlayed" version_id="8" version_string="1.0.7"><![CDATA[Top Played]]></phrase>
    <phrase title="admin_navigation_steam_stats_topRecent" version_id="8" version_string="1.0.7"><![CDATA[Top Recently Played]]></phrase>
    <phrase title="associated_steam_account" version_id="1" version_string="1.0.0"><![CDATA[Associated Steam Account]]></phrase>
    <phrase title="associate_with_steam" version_id="1" version_string="1.0.0"><![CDATA[Associate with Steam]]></phrase>
	<phrase title="checking_out_steam_stats" version_id="40" version_string="1.1.5"><![CDATA[Viewing steam statistics]]></phrase>    
    <phrase title="cron_entry_steam_user_poll" version_id="4" version_string="1.0.2"><![CDATA[Steam User Polling]]></phrase>
    <phrase title="disassociate_steam_account" version_id="1" version_string="1.0.0"><![CDATA[Disassociate Steam account]]></phrase>
    <phrase title="disassociating_with_steam_will_cause_password_generated_emailed_x" version_id="1" version_string="1.0.0"><![CDATA[Disassociating with Steam will cause a password to be generated for your account and emailed to {email}.]]></phrase>
    <phrase title="login_with_steam" version_id="112" version_string="1.4.3"><![CDATA[Log in with Steam]]></phrase>
    <phrase title="option_group_SteamAuth" version_id="1" version_string="1.0.0"><![CDATA[Steam Integration]]></phrase>
    <phrase title="option_group_SteamAuth_description" version_id="1" version_string="1.0.0"><![CDATA[Settings for integrating the online gaming service Steam as an authentication source and information source for XenForo Forums.]]></phrase>
    <phrase title="option_steamAPIKey" version_id="18" version_string="1.0.9"><![CDATA[Steam API Key]]></phrase>
    <phrase title="option_steamAPIKey_explain" version_id="18" version_string="1.0.9"><![CDATA[A <a href="http://steamcommunity.com/dev/apikey" target="_blank">Steam Web API Key</a> is required for this plugin to function. Terms of the API are <a href="http://steamcommunity.com/dev/apiterms" target="_blank">here</a>.]]></phrase>
    <phrase title="option_steamAltLoginBar" version_id="160" version_string="1.5.0"><![CDATA[Display alternative login bar for Steam]]></phrase>
    <phrase title="option_steamAltLoginBar_explain" version_id="167" version_string="1.5.2"><![CDATA[Displays an alternative login bar for Steam that mimics other XenForo login bars. Not recommended by Valve because their official images represent the Steam brand to users. Overrides Steam Login Button option if enabled.]]></phrase>
    <phrase title="option_steamAvatarReg" version_id="160" version_string="1.5.0"><![CDATA[Set user's Steam avatar as forum avatar on registration]]></phrase>
    <phrase title="option_steamAvatarReg_explain" version_id="160" version_string="1.5.0"><![CDATA[Will use the registering user's Steam avatar as their forum avatar. Disabling will give user the default forum avatar.]]></phrase>
    <phrase title="option_steamDisplayBanner" version_id="160" version_string="1.5.0"><![CDATA[Display Steam Profile in-game banners]]></phrase>
    <phrase title="option_steamDisplayBanner_explain" version_id="56" version_string="1.4.2"><![CDATA[Display game banners for people in-game if supported. Can cause an extra API request per user in game.]]></phrase>
    <phrase title="option_steamDisplayMessageContent" version_id="160" version_string="1.5.0"><![CDATA[Display Steam Profile in message content (top right)]]></phrase>
    <phrase title="option_steamDisplayMessageContent_explain" version_id="4" version_string="1.4.2"><![CDATA[Display an informational/status block in the message content portion (top right).]]></phrase>
    <phrase title="option_steamDisplayMessageInfo" version_id="160" version_string="1.5.0"><![CDATA[Display Steam Profile in messages]]></phrase>
    <phrase title="option_steamDisplayMessageInfo_explain" version_id="3" version_string="1.4.2"><![CDATA[Display an informational/status block on messages user information.]]></phrase>
    <phrase title="option_steamDisplayProfile" version_id="160" version_string="1.5.0"><![CDATA[Display Steam Profile in profile]]></phrase>
    <phrase title="option_steamDisplayProfile_explain" version_id="3" version_string="1.4.2"><![CDATA[Display an informational/status block in profile.]]></phrase>
	<phrase title="option_steamExcludeGames" version_id="52" version_string="1.2.4"><![CDATA[Exclude Games]]></phrase>	
	<phrase title="option_steamExcludeGames_explain" version_id="160" version_string="1.5.0"><![CDATA[Exclude display of Steam statistics for appids in this list. Comma delimited. Example: 440,550,4000 would exclude stats from Team Fortress 2, Left 4 Dead 2, and Garry's Mod.]]></phrase>
    <phrase title="option_steamGameStats" version_id="37" version_string="1.1.4"><![CDATA[Collect game statistics]]></phrase>
    <phrase title="option_steamGameStats_explain" version_id="160" version_string="1.5.0"><![CDATA[Polls the Steam Web API for game statistics on users. Disabling will reduce API requests.]]></phrase>
    <phrase title="option_steamGameStatsForce" version_id="160" version_string="1.5.0"><![CDATA[Force cron to update images]]></phrase>
    <phrase title="option_steamGameStatsForce_explain" version_id="160" version_string="1.5.0"><![CDATA[While enabled, when Steam User Polling cron runs it'll forcefully update image links for games from the Steam API. Recommended to leave disabled unless you need to update image links.]]></phrase>
    <phrase title="option_steamGameStatsReg" version_id="37" version_string="1.1.4"><![CDATA[Collect game statistics on registration]]></phrase>
    <phrase title="option_steamGameStatsReg_explain" version_id="160" version_string="1.5.0"><![CDATA[Polls the Steam Web API for game statistics on a user during registration. Disabling will reduce API requests, however, stats won't exist for the user until the cron runs.]]></phrase>
	<phrase title="option_steamImageCDN" version_id="146" version_string="1.4.5"><![CDATA[Steam Image Source]]></phrase>	
	<phrase title="option_steamImageCDN_explain" version_id="146" version_string="1.4.5"><![CDATA[Controls the source of the images from the Steam CDN. Not all CDN options support HTTPS/SSL. Steamcdn-a.akamaihd.net (HTTPS/HTTP) is recommended, unless you have issues with protocol relative links.]]></phrase>
	<phrase title="option_steamIncludeGames" version_id="52" version_string="1.2.4"><![CDATA[Include Games]]></phrase>
	<phrase title="option_steamIncludeGames_explain" version_id="160" version_string="1.5.0"><![CDATA[Only display Steam statistics from appids in this list. Comma delimited. Example: 440,550,4000 would only show stats from Team Fortress 2, Left 4 Dead 2, and Garry's Mod.]]></phrase>
	<phrase title="option_steamJSONLink" version_id="146" version_string="1.4.5"><![CDATA[Steam API Source]]></phrase>	
	<phrase title="option_steamJSONLink_explain" version_id="146" version_string="1.4.5"><![CDATA[Controls the source of the API call. If you want to grab JSON over HTTPS instead of HTTP, change to HTTPS only if cURL is enabled and supports HTTPS OR openssl for PHP is installed if cURL is not enabled.]]></phrase>
	<phrase title="option_steamLoginButton" version_id="158" version_string="1.5.0"><![CDATA[Steam Login Button (Vistors Panel)]]></phrase>	
	<phrase title="option_steamLoginButton_explain" version_id="158" version_string="1.5.0"><![CDATA[Controls the style of login button on the vistors panel.]]></phrase>
	<phrase title="option_steamNavTab" version_id="25" version_string="1.1.1"><![CDATA[Steam statistics navbar tab]]></phrase>
	<phrase title="option_steamNavTab_explain" version_id="160" version_string="1.5.0"><![CDATA[Display a navigaton tab for public Steam statistics.]]></phrase>	
    <phrase title="option_steamVisitorPanel" version_id="112" version_string="1.4.3"><![CDATA[Display Steam login bar on vistor panel]]></phrase>
    <phrase title="option_steamVisitorPanel_explain" version_id="112" version_string="1.4.3"><![CDATA[Displays the login bar underneath the "Sign up now!" button.]]></phrase>
    <phrase title="password_of_x_account_wish_to_associate_with_not_steam" version_id="1" version_string="1.0.0"><![CDATA[This is the password of the {board_title} account that you wish to associate with. It is not your Steam password.]]></phrase>
    <phrase title="permission_SteamAuth_viewProfile" version_id="76" version_string="1.3.5"><![CDATA[Can view steam profiles]]></phrase>
	<phrase title="permission_SteamAuth_viewStats" version_id="76" version_string="1.3.5"><![CDATA[Can view steam statistics]]></phrase>
    <phrase title="permission_group_SteamAuth" version_id="25" version_string="1.1.1"><![CDATA[Steam Integration]]></phrase>
    <phrase title="permission_interface_SteamAuth" version_id="25" version_string="1.1.1"><![CDATA[Steam Integration]]></phrase>
    <phrase title="sign_up_with_steam" version_id="1" version_string="1.0.0"><![CDATA[Sign up with Steam]]></phrase>
    <phrase title="steam" version_id="8" version_string="1.0.7"><![CDATA[Steam]]></phrase>
	<phrase title="steam_do_not_have_permission" version_id="25" version_string="1.1.1"><![CDATA[You do not have permission to view steam statistics.]]></phrase>
    <phrase title="steam_game_not_owned" version_id="4" version_string="1.0.2"><![CDATA[Games NOT owned]]></phrase>
    <phrase title="steam_game_owned" version_id="4" version_string="1.0.2"><![CDATA[Games owned]]></phrase>
    <phrase title="steam_info_users" version_id="8" version_string="1.0.7"><![CDATA[Steam User List]]></phrase>
    <phrase title="steam_info_users_id" version_id="8" version_string="1.0.7"><![CDATA[Steam Id]]></phrase>
    <phrase title="steam_info_users_user" version_id="8" version_string="1.0.7"><![CDATA[Username]]></phrase>
    <phrase title="steam_integration" version_id="1" version_string="1.0..0"><![CDATA[Steam Integration]]></phrase>
    <phrase title="steam_state_associated" version_id="1" version_string="1.0.0"><![CDATA[Associated]]></phrase>
    <phrase title="steam_state_deassociated" version_id="1" version_string="1.0.0"><![CDATA[Not Associated]]></phrase>
    <phrase title="steam_stats_games" version_id="8" version_string="1.0.7"><![CDATA[Games]]></phrase>
    <phrase title="steam_state_is" version_id="1" version_string="1.0.0"><![CDATA[Steam state is]]></phrase>
    <phrase title="steam_stats_topOwned" version_id="8" version_string="1.0.7"><![CDATA[Top Owned Games]]></phrase>
    <phrase title="steam_stats_topOwned_count" version_id="8" version_string="1.0.7"><![CDATA[Count]]></phrase>
    <phrase title="steam_stats_topOwned_game" version_id="8" version_string="1.0.7"><![CDATA[Game]]></phrase>
    <phrase title="steam_stats_topPlayed" version_id="8" version_string="1.0.7"><![CDATA[Top Played Games]]></phrase>
    <phrase title="steam_stats_topPlayed_game" version_id="8" version_string="1.0.7"><![CDATA[Game]]></phrase>
    <phrase title="steam_stats_topPlayed_hours" version_id="8" version_string="1.0.7"><![CDATA[Hours]]></phrase>
    <phrase title="steam_stats_topPlayedRecent" version_id="8" version_string="1.0.7"><![CDATA[Top Recently Played Games]]></phrase>
    <phrase title="steam_stats_topPlayedRecent_game" version_id="8" version_string="1.0.7"><![CDATA[Game]]></phrase>
    <phrase title="steam_stats_topPlayedRecent_hours" version_id="8" version_string="1.0.7"><![CDATA[Hours]]></phrase>
	<phrase title="steam_stats_topUsersRecent" version_id="25" version_string="1.1.1"><![CDATA[Most Active Steam Users]]></phrase>
    <phrase title="steam_stats_topUsersRecent_hours" version_id="25" version_string="1.1.1"><![CDATA[Hours]]></phrase>
    <phrase title="steam_stats_topUsersRecent_user" version_id="25" version_string="1.1.1"><![CDATA[User]]></phrase>
    <phrase title="steam_use_button_normal" version_id="158" version_string="1.5.0"><![CDATA[Thin button]]></phrase>
    <phrase title="steam_use_button_large" version_id="158" version_string="1.5.0"><![CDATA[Large button]]></phrase>
    <phrase title="steam_use_button_large_border" version_id="158" version_string="1.5.0"><![CDATA[Large button with border]]></phrase>
    <phrase title="steam_use_CDN_akamai_alt" version_id="147" version_string="1.4.5"><![CDATA[cdn.akamai.steamstatic.com (HTTP Only)]]></phrase>
    <phrase title="steam_use_CDN_akamai_both" version_id="147" version_string="1.4.5"><![CDATA[steamcdn-a.akamaihd.net (HTTPS/HTTP)]]></phrase>
    <phrase title="steam_use_CDN_akamai_HTTPS" version_id="147" version_string="1.4.5"><![CDATA[steamcdn-a.akamaihd.net (HTTPS Only)]]></phrase>
    <phrase title="steam_use_CDN_akamai_HTTP" version_id="147" version_string="1.4.5"><![CDATA[steamcdn-a.akamaihd.net (HTTP Only)]]></phrase>
    <phrase title="steam_use_CDN_local" version_id="152" version_string="1.4.5"><![CDATA[XenForo Image Proxy (if enabled)]]></phrase>
    <phrase title="steam_use_JSON_HTTP" version_id="147" version_string="1.4.5"><![CDATA[Steam API via HTTP]]></phrase>
    <phrase title="steam_use_JSON_HTTPS" version_id="147" version_string="1.4.5"><![CDATA[Steam API via HTTPS]]></phrase>
    <phrase title="your_account_is_not_currently_associated_with_steam_account" version_id="1" version_string="1.2.0"><![CDATA[Your account is not currently associated with a Steam account.]]></phrase>
  </phrases>
  <route_prefixes>
    <route_type type="admin">
      <prefix original_prefix="steam" class="Steam_Route_PrefixAdmin_Steam" build_link="all"/>
    </route_type>
    <route_type type="public">
      <prefix original_prefix="steam" class="Steam_Route_Prefix_Steam" build_link="data_only"/>
    </route_type>
  </route_prefixes>
  <style_properties/>
  <templates>
    <template title="register_steam" version_id="1" version_string="1.0.0"><![CDATA[<xen:title>{xen:phrase sign_up_with_steam}</xen:title>
	
<xen:container var="$steamSdk">1</xen:container>

<form action="{xen:link 'register/steam/register'}" method="post" class="xenForm AutoValidator"
	data-fieldValidatorUrl="{xen:link register/validate-field}"
	data-OptInOut="OptIn"
	data-normalSubmit="1"
>

<ul class="tabs Tabs" data-panes="#SteamTabs > li">
	<xen:if is="!{$associateOnly}"><li><a>{xen:phrase create_new_account}</a></li></xen:if>
	<li><a>{xen:phrase associate_existing_account}</a></li>
</ul>

<ul id="SteamTabs">
	
	<xen:if is="!{$associateOnly}">
	<li>
		<dl class="ctrlUnit">
			<dt><label for="ctrl_username">{xen:phrase name}:</label></dt>
			<dd>
				<input type="text" name="username" value="{$username}" class="textCtrl OptIn" id="ctrl_username" autofocus="true" autocomplete="off" />
				<p class="explain">{xen:phrase this_is_name_that_will_be_shown_with_your_messages}</p>
			</dd>
		</dl>
	
		<dl class="ctrlUnit">
			<dt><label for="ctrl_email">{xen:phrase email}:</label></dt>
			<dd><input type="email" name="email" class="textCtrl OptIn" dir="ltr" id="ctrl_email" /></dd>
		</dl>
	
		<dl class="ctrlUnit">
			<dt><label for="ctrl_timezone">{xen:phrase time_zone}:</label></dt>
			<dd>
				<select name="timezone" class="textCtrl AutoTimeZone OptOut" id="ctrl_timezone">
					<xen:foreach loop="$timeZones" key="$identifier" value="$name">
						<option value="{$identifier}" {xen:selected "{$identifier} == {$xenOptions.guestTimeZone}"}>{$name}</option>
					</xen:foreach>
				</select>
			</dd>
		</dl>
		
		<dl class="ctrlUnit OptOut">
			<dt>{xen:phrase date_of_birth}:</dt>
			<dd>
				<xen:include template="helper_birthday_input">
					<xen:map from="$fields" to="$user" />
				</xen:include>
				<xen:if is="{$dobRequired}"><p class="explain">{xen:phrase your_date_of_birth_is_required}</p></xen:if>
			</dd>
		</dl>

		<dl class="ctrlUnit">
			<dt>{xen:phrase gender}:</dt>
			<dd>
				<ul>
					<li><label for="ctrl_gender_male"><input type="radio" name="gender" value="male" id="ctrl_gender_male" {xen:checked "{$fields.gender} == 'male'"} /> {xen:phrase male}</label></li>
					<li><label for="ctrl_gender_female"><input type="radio" name="gender" value="female" id="ctrl_gender_female" {xen:checked "{$fields.gender} == 'female'"} /> {xen:phrase female}</label></li>
					<li><label for="ctrl_gender_"><input type="radio" name="gender" value="" id="ctrl_gender_" {xen:checked "!{$fields.gender}"} /> ({xen:phrase unspecified})</label></li>
				</ul>
			</dd>
		</dl>

                <xen:include template="custom_fields_edit" />
	
		<dl class="ctrlUnit submitUnit">
			<dt></dt>
			<dd>
                                <xen:if is="{$tosUrl}">
					<ul>
						<li>
							{xen:phrase i_agree_to_terms_and_rules, 'checkbox=<input type="checkbox" name="agree" value="1" id="ctrl_agree" class="Disabler" />', 'terms_attributes=href="{$tosUrl}" target="_blank"'}
							<ul id="ctrl_agree_Disabler">
								<li><input type="submit" value="{xen:phrase sign_up}" accesskey="s" class="button primary" /></li>
							</ul>						
						</li>
					</ul>
				<xen:else />
					<input type="submit" value="{xen:phrase sign_up}" accesskey="s" class="button primary" />
				</xen:if>
				
			</dd>
		</dl>
	
	</li>
	</xen:if>


	<li>
		<dl class="ctrlUnit">
			<dt><label for="ctrl_associate_login">{xen:phrase associate_with}:</label></dt>
			<dd>
				<xen:if is="{$existingUser}">
					{$existingUser.username}
					<input type="hidden" name="associate_login" value="{$existingUser.username}" />
					<input type="hidden" name="force_assoc" value="1" />
				<xen:else />
					<input type="text" name="associate_login" class="textCtrl" id="ctrl_associate_login" />
				</xen:if>
			</dd>
		</dl>
		
		<dl class="ctrlUnit">
			<dt><label for="ctrl_associate_password">{xen:phrase password}:</label></dt>
			<dd>
				<input type="password" name="associate_password" class="textCtrl" id="ctrl_associate_password" />
				<p class="explain">{xen:phrase password_of_x_account_wish_to_associate_with_not_steam, 'board_title={$xenOptions.boardTitle}'}</p>
			</dd>
		</dl>
		
		<dl class="ctrlUnit submitUnit">
			<dt></dt>
			<dd><input type="submit" value="{xen:phrase associate_account}" name="associate" accesskey="a" class="button primary" /></dd>
		</dl>
	</li>

</ul>	

<input type="hidden" name="_xfToken" value="{$visitor.csrf_token_page}" />
<input type="hidden" name="redirect" value="{$redirect}" />
<input type="hidden" name="location" value="{$location}" />
</form>]]>
</template>
<template title="steam_footer" version_id="121" version_string="1.4.3"><![CDATA[
<xen:if is="{$contentTemplate} == 'forum_list'">
<li><a href="http://steampowered.com" target="_blank">Powered By Steam</a></li>
</xen:if>
	
<xen:if is="{$steamProfNoJS}">
<xen:require css="steam_stats.css" />
<li><a href="http://steampowered.com" target="_blank">Powered By Steam</a></li>
</xen:if>

<xen:if is="{$steamProf}">
<xen:require css="steam_profile.css" />
<xen:require js="js/steam/ajax/steamprofile.js" />
<xen:require js="js/steam/steam.js" />
<li><a href="http://steampowered.com" target="_blank">Powered By Steam</a></li>
</xen:if>

<xen:if is="{$steamProfStats}">
<xen:require css="steam_profile_stats.css" />
<xen:require css="steam_stats.css" />
<xen:require js="js/steam/ajax/steamprofilestats.js" />
<li><a href="http://steampowered.com" target="_blank">Powered By Steam</a></li>
</xen:if>
]]>
</template>
    <template title="steam_helper_login" version_id="124" version_string="1.4.3"><![CDATA[
      				<xen:if is="{$xenOptions.steamAPIKey} AND {$xenOptions.steamAltLoginBar}">
                    <xen:require css="steam_login_bar.css" />
                    <dl class="ctrlUnit">
                    <dt></dt>
                    <dd><a href="{xen:link register/steam, '', 'reg=1'}" class="steamLogin" tabindex="110"><span>{xen:phrase login_with_steam}</span></a></dd>
                    </dl>
<xen:elseif is="{$xenOptions.steamAPIKey} AND !{$xenOptions.steamAltLoginBar}" />
               <dl class="ctrlUnit">
               <dt></dt>
               <dd style="margin-left:-14px;"><a href="{xen:link register/steam, '', 'reg=1'}" style="text-decoration:none;display: inline-block;">
   <img src="styles/default/steamauth/steam_signin.png" alt="{xen:phrase login_with_steam}" style="margin:0 14px;"/>
</a></dd>
</dl>
                </xen:if>
    ]]>
    </template>
    <template title="steam_login_bar" version_id="122" version_string="1.4.3"><![CDATA[
      				<xen:if is="{$xenOptions.steamAPIKey} AND {$xenOptions.steamAltLoginBar}">
                    <xen:require css="steam_login_bar.css" />
<li><a href="{xen:link register/steam, '', 'reg=1'}" class="steamLogin" tabindex="110"><span>{xen:phrase login_with_steam}</span></a></li>
<xen:elseif is="{$xenOptions.steamAPIKey} AND !{$xenOptions.steamAltLoginBar}" />
               <li><a href="{xen:link register/steam, '', 'reg=1'}" style="text-decoration:none;display: inline-block;">
   <img src="styles/default/steamauth/steam_signin.png" alt="{xen:phrase login_with_steam}" style="margin:0 14px;"/>
</a></li>
                </xen:if>
    ]]>
    </template>
    <template title="steam_login_bar.css" version_id="124" version_string="1.4.3"><![CDATA[
    a.steamLogin,
    #loginBar a.steamLogin
    {
        display: inline-block;
        width: {xen:property eAuthButtonWidth};
        height: 22px;
        box-sizing: border-box;
        cursor: pointer;
        text-align: left;
        
        background: #91bb43;
        background: -moz-linear-gradient(top, #91bb43 0%, #6d9c32 100%);
        background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#91bb43), color-stop(100%,#6d9c32));
        background: -webkit-linear-gradient(top, #91bb43 0%,#6d9c32 100%);
        background: -o-linear-gradient(top, #91bb43 0%,#6d9c32 100%);
        background: -ms-linear-gradient(top, #91bb43 0%,#6d9c32 100%);
        background: linear-gradient(to bottom, #91bb43 0%,#6d9c32 100%);
        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#91bb43', endColorstr='#6d9c32',GradientType=0 );
        
        border: #333 solid 1px;
        border-radius: 3px;
        padding: 3px 0px 3px 0px;
        
        color: #fff !important;
        font-weight: bold;
        font-size: 11px;
        line-height: 14px;
    }

        a.steamLogin span
        {
            display: block;
            background: url('styles/default/steamauth/steam-icon.png') no-repeat;
            background-position: -2px -3px;
            padding-left: 26px;
            white-space: nowrap;
            overflow: hidden;
        }
        
    a.steamLogin:hover,
    #loginBar a.steamLogin:hover,
    a.steamLogin:active,
    #loginBar a.steamLogin:active
    {
        text-decoration: none;
    }
    ]]>
    </template>
    <template title="steam_navtabs" version_id="26" version_string="1.4.2"><![CDATA[
    <ul class="secondaryContent blockLinksList">
	<li><a href="{xen:link 'steam/top-owned-games'}">{xen:phrase steam_stats_topOwned}</a></li>
	<li><a href="{xen:link 'steam/top-played-games'}">{xen:phrase steam_stats_topPlayed}</a></li>
	<li><a href="{xen:link 'steam/top-recently-played-games'}">{xen:phrase steam_stats_topPlayedRecent}</a></li>
</ul>]]>
</template>
	<template title="steam_profile.css" version_id="82" version_string="1.3.5"><![CDATA[/* SteamProfile CSS */
		.steamprofile * {
		font-size: 10px;
		font-family: tahoma,Arial,Helvetica,sans-serif;
		margin: 0;
		padding: 0;
		line-height: 1.3em;
	}

	.steamprofile {
		position: relative;
		width: 100%;
		height: 48px;
		background: #3A3A3A url(styles/default/steamauth/themes/default/background.png);
		overflow: hidden;
		margin: 0px;
	}

	.steamprofile .sp-bg-game,
	.steamprofile .sp-bg-game-img,
	.steamprofile .sp-bg-fade {
		background-position: right center;
		height: 48px;
	}

	.steamprofile .sp-bg-fade {
		background-repeat: repeat-y;
		background-image: url(styles/default/steamauth/themes/default/background_fade.png);
		height: 48px;
	}

	.steamprofile .sp-bg-game,
	.steamprofile .sp-bg-game-img {
		background-repeat: no-repeat;
		background-size:auto 48px;
	}

	.steamprofile .sp-badge,
	.steamprofile .sp-loading,
	.steamprofile .sp-error {
		padding: 4px;
	}

	.steamprofile a {
		text-decoration: none;
	}

	.steamprofile img  {
		border: none;
	}

	.steamprofile .sp-loading {
		margin: 8px;
		padding-left: 40px;
		color: #606060;
		font-size: 18px;
		background: transparent url(styles/default/steamauth/themes/default/loading.gif) no-repeat left top;
	}

	.steamprofile .sp-error {
		margin: 4px 8px;
		padding-left: 22px;
		color: #cc4444;
		font-size: 12px;
		background: transparent url(styles/default/steamauth/themes/default/error.png) no-repeat left center;
	}

	.steamprofile:hover {
		background-color: #313131;
	}

	.steamprofile .sp-avatar {
		float: left;
		width: 40px;
		height: 40px;
		margin-right: 4px;
	}

	.steamprofile .sp-avatar img  {
		margin: 4px;
	}

	.steamprofile .sp-info a {
		font-weight: bold;
		font-size:9px;
	}
	.steamprofile .sp-info {
		text-overflow: string;
		white-space: nowrap;
		word-break: break-all;
	}
	.steamprofile .sp-In-Game {
		color: #8bc53f;
	}

	.steamprofile .sp-In-Game a {
		color: #b1fb50;
	}

	.steamprofile .sp-Online {
		color: #6f9fc8;
	}

	.steamprofile .sp-Online a {
		color: #8ecbff;
	}

	.steamprofile .sp-Online .sp-avatar,
	.steamprofile .sp-In-Game .sp-avatar,
	.steamprofile .sp-Offline .sp-avatar {
		background: transparent url(styles/default/steamauth/themes/default/iconholder.png) no-repeat 0 0;
	}

	.steamprofile .sp-Online .sp-avatar {
		background-position: -40px 0;
	}

	.steamprofile .sp-In-Game .sp-avatar {
		background-position: -80px 0;
	}

	.steamprofile .sp-Offline .sp-info,
	.steamprofile .sp-Offline .sp-info a {
		color: #898989;
	}

	.steamprofile .sp-extra {
		display: block;
		position: absolute;
		z-index: 1;
		right: 0;
		top: 0;
		background-color: #202020;
		height: 50px;
	}

	.steamprofile .sp-handle {
		width: 16px;
		height: 50px;
		display: block;
		position: absolute;
		z-index: 2;
		left: -16px;
		top: -1px;
		background: url(styles/default/steamauth/themes/default/handle.png) right center no-repeat;
	}

	.steamprofile .sp-handle:hover {
		cursor: pointer;
	}

	.steamprofile .sp-content {
		white-space: nowrap;
		height: 50px;
		padding: 6px;
		display: none;
	}

	.steamprofile .sp-content ul {
		list-style: none;
		float: left;
	}

	.steamprofile .sp-content li {
		height: 16px;
		padding-left: 18px;
		margin: 2px;
	}

	.steamprofile .sp-content a:hover {
		text-decoration: underline;
		color: #ffffff;
	}

	.steamprofile .sp-joingame,
	.steamprofile .sp-addfriend,
	.steamprofile .sp-viewfriends,
	.steamprofile .sp-viewgroups,
	.steamprofile .sp-viewgames {
		display: inline-block;
		width: 16px;
		height: 16px;
		background: transparent url(styles/default/steamauth/themes/default/icons_new.png) no-repeat 0 0;
	}

	.steamprofile .sp-viewfriends {
		background-position: -16px 0;
	}

	.steamprofile .sp-viewgroups {
		background-position: -32px 0;
	}
	.steamprofile .sp-viewgames {
		background-position: -48px 0;
	}

	.steamprofile .sp-joingame {
		background-position: -64px 0;
	}

	.steamprofile .sp-viewinventory,
	.steamprofile .sp-viewwishlist,
	.steamprofile .sp-viewvideos,
	.steamprofile .sp-viewscreenshots {
		display: inline-block;
		width: 16px;
		height: 16px;
		background: transparent url(styles/default/steamauth/themes/default/icons_new.png) no-repeat 0px -16px;
	}

	.steamprofile .sp-viewwishlist {
		background-position: -16px -16px;
	}

	.steamprofile .sp-viewvideos {
		background-position: -32px -16px;
	}
	.steamprofile .sp-viewscreenshots  {
		background-position: -48px -16px;
	}
	]]>
    </template>
    <template title="steam_profile_member" version_id="128" version_string="1.4.3"><![CDATA[
    <xen:if is="{$xenOptions.steamAPIKey} AND {$xenOptions.steamDisplayProfile}">
          <xen:if is="{$visitor.permissions.SteamAuth.viewProfile} AND {$user.externalAuth.steam} > 0">
          <xen:if is="!{$user.is_banned}">
          <div class="steamprofile" title="{$user.externalAuth.steam}"></div>
    <xen:container var="$steamProf">1</xen:container>
    </xen:if>
    </xen:if>
    </xen:if>
    ]]>
    </template>
    <template title="steam_profile_message" version_id="128" version_string="1.4.3"><![CDATA[
        <xen:if is="{$xenOptions.steamAPIKey} AND {$xenOptions.steamDisplayMessageContent}">
              <xen:if is="{$visitor.permissions.SteamAuth.viewProfile} AND {$message.externalAuth.steam} > 0">
        <xen:if is="!{$message.is_banned}">
        <div class="steamprofile" style="width: 225px; float: right;" title="{$message.externalAuth.steam}"></div>
        <xen:container var="$steamProf">1</xen:container>
        </xen:if>
        </xen:if>
        </xen:if>
    ]]>
    </template>
    <template title="steam_profile_message_info" version_id="120" version_string="1.4.3"><![CDATA[
    <xen:if is="{$xenOptions.steamAPIKey} AND {$xenOptions.steamDisplayMessageInfo}">
          <xen:if is="{$visitor.permissions.SteamAuth.viewProfile} AND {$user.externalAuth.steam} > 0">
          <xen:if is="!{$user.is_banned}">
          <div class="steamprofile" title="{$user.externalAuth.steam}"></div>
    <xen:container var="$steamProf">1</xen:container>
    </xen:if>
    </xen:if>
    </xen:if>
    ]]>
    </template>
	<template title="steam_profile_stats.css" version_id="82" version_string="1.3.5"><![CDATA[/* Steam Stats Avatar CSS */
	.steamprofile * {
		font-size: 8px;
		font-family: tahoma,Arial,Helvetica,sans-serif;
		margin: 0;
		padding: 0;
		margin-right:2px;
		height: 24px;
		width: 24px;
	}

	.steamprofile {
		position: relative;
		height: 24px;
		width: 24px;
		overflow: hidden;
		margin: 0px;
	}

	.steamprofile a:link { text-decoration:none; }
	.steamprofile a:visited { text-decoration:none; }
	.steamprofile a:hover{ text-decoration:none; }
	.steamprofile a:active{ text-decoration:none; }

	.steamprofile .sp-loading{
	}

	.steamprofile .sp-error{
	}

	.steamstats_avatar
	{
		height: 20px;
		width: 20px;
		border-radius: 3px;
		-moz-border-radius: 3px;
		-webkit-border-radius: 3px;
	}
	.steamstats_avatar .ingame
	{
		border: 3px solid #81b900;
		vertical-align:top;
	}
	.steamstats_avatar .online
	{
		border: 3px solid #5cb1fe;
		vertical-align:top;
	}
	.steamstats_avatar .offline
	{
		border: 3px solid #727272;
		vertical-align:top;
	}
	]]>
    </template>
	<template title="steam_public_index" version_id="140" version_string="1.4.5"><![CDATA[
<xen:container var="$steamProfStats">1</xen:container>
<div class="sectionMain">
<xen:title>{xen:phrase steam_stats_topUsersRecent}</xen:title>
<div class="steamstats_header"><span class="steamstats_title_count">{xen:phrase steam_stats_topUsersRecent_hours}</span><span class="steamstats_title_user">{xen:phrase steam_stats_topUsersRecent_user}</span></div>
<xen:foreach loop="{$gameStats}" key="$key" value="$value">
<div class="steamstats_list"><span class="steamstats_title_count">{$value.hours}</span><span class="steamstats_title_user"><span class="steamprofile" title="{$value.steamprofileid}"></span><span class="steamstats_title_name">{xen:helper username, $value}</span></span></div>
</xen:foreach>
</div>
]]>
</template>
	<template title="steam_public_owned" version_id="140" version_string="1.4.5"><![CDATA[
<xen:container var="$steamProfNoJS">1</xen:container>
<div class="sectionMain">
<xen:title>{xen:phrase steam_stats_topOwned}</xen:title>
<div class="steamstats_header"><span class="steamstats_title_count">{xen:phrase steam_stats_topOwned_count}</span><span class="steamstats_title_game">{xen:phrase steam_stats_topOwned_game}</span></div>
<xen:foreach loop="{$gameStats}" key="$key" value="$value">
<div class="steamstats_list"><span class="steamstats_title_count">{$value.count}</span><span class="steamstats_title_game"><a href="{$value.link}"><img class="steamstats_game_img" src="{$value.logo}" /><span class="steamstats_title_name">{$value.name}</a></span></span></div>
</xen:foreach>
</div>
]]>
</template>
	<template title="steam_public_played" version_id="140" version_string="1.4.5"><![CDATA[
<xen:container var="$steamProfNoJS">1</xen:container>
<div class="sectionMain">
<xen:title>{xen:phrase steam_stats_topPlayed}</xen:title>
<div class="steamstats_header"><span class="steamstats_title_count">{xen:phrase steam_stats_topPlayed_hours}</span><span class="steamstats_title_game">{xen:phrase steam_stats_topPlayed_game}</span></div>
<xen:foreach loop="{$gameStats}" key="$key" value="$value">
<div class="steamstats_list"><span class="steamstats_title_count">{$value.hours}</span><span class="steamstats_title_game"><a href="{$value.link}"><img class="steamstats_game_img" src="{$value.logo}" /><span class="steamstats_title_name">{$value.name}</a></span></span></div>
</xen:foreach>
</div>
]]>
</template>
	<template title="steam_public_recent" version_id="141" version_string="1.4.5"><![CDATA[
<xen:container var="$steamProfNoJS">1</xen:container>
<div class="sectionMain">
<xen:title>{xen:phrase steam_stats_topPlayedRecent}</xen:title>
<div class="steamstats_header"><span class="steamstats_title_count">{xen:phrase steam_stats_topPlayedRecent_hours}</span><span class="steamstats_title_game">{xen:phrase steam_stats_topPlayedRecent_game}</span></div>
<xen:foreach loop="{$gameStats}" key="$key" value="$value">
<div class="steamstats_list"><span class="steamstats_title_count">{$value.hours}</span><span class="steamstats_title_game"><a href="{$value.link}"><img class="steamstats_game_img" src="{$value.logo}" /><span class="steamstats_title_name">{$value.name}</a></span></span></div>
</xen:foreach>
</div>
]]>
</template>
    <template title="steam_sidebar.css" version_id="116" version_string="1.4.3"><![CDATA[
    .sidebarLoginSteam
    {
        margin: 10px auto;
        text-align: center;
    }
    ]]>
    </template>
    <template title="steam_sidebar_visitor" version_id="158" version_string="1.5.0"><![CDATA[
        <xen:if is="{$xenOptions.steamVisitorPanel}">
        <xen:require css="steam_sidebar.css" />
        <xen:if is="{$xenOptions.steamAPIKey} AND {$xenOptions.steamAltLoginBar}">
        <xen:require css="steam_login_bar.css" />
        <div class="sidebarLoginSteam">
        <a href="{xen:link register/steam, '', 'reg=1'}" class="steamLogin"><span>{xen:phrase login_with_steam}</span></a>
        </div>
        <xen:elseif is="{$xenOptions.steamAPIKey} AND !{$xenOptions.steamAltLoginBar}" />
        <div class="sidebarLoginSteam">
        <a href="{xen:link register/steam, '', 'reg=1'}" style="text-decoration:none;display: inline-block;">
        <img src="{$xenOptions.steamLoginButton}" alt="{xen:phrase login_with_steam}" style="margin:0 14px;"/>
        </a>
        </div>
        </xen:if>
        </xen:if>
    ]]>
    </template>
    <template title="steam_stats.css" version_id="142" version_string="1.4.5"><![CDATA[/* Steam Authentication & Integration CSS */
    .steamstats_header
    {
        font-size: 150%;
        font-weight: bold;
        height: 26px;
        border-bottom: 2px solid @primaryLightish;
        padding: 8px;
    }
    .steamstats_title_user
    {
        display: block;
        height: 26px;
        overflow: hidden;
    }
    .steamstats_title_game
    {
        display: block;
        height: 26px;
        overflow: hidden;
    }
    .steamstats_title_name
    {
        display: inline-block;
        margin-top: 3px;
        height: 26px;
    }
    .steamstats_title_count
    {
        display: block;
        float: right;
        text-align: right;
        margin-top: 3px;
    }
    .steamstats_list
    {
        font-size: 125%; 
        height: 26px; 
        border-bottom: 1px solid @primaryDark; 
        padding: 8px;
    }
    .steamstats_game_img
    {
        padding-right: 4px;
        width: 68px;
        height: 26px;
        vertical-align:top;
    }
	]]>
    </template>
  </templates>
  <public_template_modifications>
    <modification template="account_external_accounts" modification_key="SteamAccountExternalAccounts" description="Adds Steam Integration to the External Accounts page" execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[<input type="hidden" name="account" value="google" />
	</form>
</xen:if>]]></find>
      <replace><![CDATA[$0
    <xen:if is="{$xenOptions.steamAPIKey}">
	<form action="{xen:link account/external-accounts/disassociate}" method="post" class="xenForm">
		<h3 class="textHeading">{xen:phrase steam_integration}</h3>
		<xen:if is="{$external.steam}">
			
			<xen:hook name="account_steam_associated">
			<dl class="ctrlUnit">
                <dt>{xen:phrase associated_steam_account}:</dt>
                <dd>
                    <a href="http://steamcommunity.com/profiles/{$external.steam.provider_key}" class="avatar NoOverlay"><img src="{$stUser.icon}" alt="" /></a>
                    <div><a href="http://steamcommunity.com/profiles/{$external.steam.provider_key}"><xen:if is="{$stUser.username}">{$stUser.username}<xen:else />{xen:phrase unknown_account}</xen:if></a></div>
                </dd>
			</dl>
			</xen:hook>
			
			<dl class="ctrlUnit submitUnit">
				<dt></dt>
				<dd><ul>
                    <li>
                        <label><input type="checkbox" name="disassociate" value="1" id="ctrl_disassociate_st" class="Disabler" /> {xen:phrase disassociate_steam_account}</label>
                        <ul id="ctrl_disassociate_st_Disabler">
                            <li><input type="submit" class="button" value="{xen:phrase confirm_disassociation}" /></li>
                        </ul>
                        <xen:if is="!{$hasPassword}">
                            <p class="explain">{xen:phrase disassociating_with_steam_will_cause_password_generated_emailed_x, 'email={$visitor.email}'}</p>
                        </xen:if>
                    </li>
				</ul></dd>
			</dl>
		<xen:else />
		<xen:hook name="account_steam_not_associated">
		<dl class="ctrlUnit">
			<dt></dt>
			<dd>{xen:string nl2br, {xen:phrase your_account_is_not_currently_associated_with_steam_account}}</dd>
		</dl>
		</xen:hook>
		
		<dl class="ctrlUnit submitUnit">
			<dt></dt>
			<dd><a href="{xen:link register/steam, '', 'reg=1', 'assoc={$visitor.user_id}'}" class="button primary">{xen:phrase associate_with_steam}</a></dd>
        </dl>
		</xen:if>

		<input type="hidden" name="_xfToken" value="{$visitor.csrf_token_page}" />
		<input type="hidden" name="_xfConfirm" value="1" />
		<input type="hidden" name="account" value="steam" />
	</form>
</xen:if>]]></replace>
    </modification>
    <modification template="account_wrapper" modification_key="SteamAccountWrapper" description="Displays External Accounts link if Steam Integration is configured" execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[{$xenOptions.googleClientId}]]></find>
      <replace><![CDATA[$0 OR {$xenOptions.steamAPIKey}]]></replace>
    </modification>
        <modification template="footer" modification_key="SteamFooter" description="Display Powered By Steam in footer" execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[<ul class="footerLinks">]]></find>
      <replace><![CDATA[$0 
      <xen:include template="steam_footer" />]]></replace>
    </modification>
    <modification template="helper_login_form" modification_key="SteamLogin" description="Displays Sign In Through Steam Banner on login page" execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[#<xen:if is=\"\{\$xenOptions.googleClientId\}\">(.*?)</xen:if>#si]]></find>
      <replace><![CDATA[$0
      <xen:include template="steam_helper_login" />]]></replace>
    </modification>
     <modification template="login_bar_form" modification_key="SteamLoginBarFormButton" description="Sign In Through Steam Banner" execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[#<xen:if is=\"\{\$xenOptions.googleClientId\}\">\n(.*?)</xen:if>#si]]></find>
      <replace><![CDATA[$0
      <xen:include template="steam_login_bar" />
]]></replace>
    </modification>
    <modification template="login_bar_form" modification_key="SteamLoginBarFormVar" description="Sets Display Variable" execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[<xen:if is="{$xenOptions.googleClientId}"><xen:set var="$eAuth">1</xen:set></xen:if>]]></find>
      <replace><![CDATA[$0
      <xen:if is="{$xenOptions.steamAPIKey}"><xen:set var="$eAuth">1</xen:set></xen:if>]]></replace>
    </modification>
    <modification template="member_view" modification_key="SteamMemberView" description="Display Profile In Member View" execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[<xen:if is="{$canViewWarnings}">
					<dl><dt>{xen:phrase warning_points}:</dt><dd>{xen:number $user.warning_points}</dd></dl>
				</xen:if>]]></find>
      <replace><![CDATA[$0 <xen:include template="steam_profile_member" />]]></replace>
    </modification>
    <modification template="message" modification_key="SteamMessageContent" description="Display Profile In Post Content" execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[<div class="messageContent">		
			<article>]]></find>
      <replace><![CDATA[<xen:include template="steam_profile_message" />
$0]]></replace>
    </modification>
    <modification template="message_user_info" modification_key="SteamMessageUserInfo" description="Display Profile Under Avatar In Messages" execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[	<xen:if hascontent="true">
		<div class="extraUserInfo">]]></find>
      <replace><![CDATA[<xen:include template="steam_profile_message_info" />
$0]]></replace>
    </modification>
    <modification template="navigation_visitor_tab" modification_key="SteamNavVisitorTab" description="Displays External Accounts link if Steam Integration is configured" execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[{$xenOptions.googleClientId}]]></find>
      <replace><![CDATA[$0 OR {$xenOptions.steamAPIKey}]]></replace>
    </modification>
    <modification template="sidebar_visitor_panel" modification_key="SteamSidebarVisitorPanel" description="Display login button in the sidebar" execution_order="10" enabled="1" action="str_replace">
      <find><![CDATA[{xen:phrase log_in}}</a></label>]]></find>
      <replace><![CDATA[$0
<xen:include template="steam_sidebar_visitor" />]]></replace>
    </modification>
  </public_template_modifications>
  <bb_code_media_sites/>
  <bb_codes/>
</addon>